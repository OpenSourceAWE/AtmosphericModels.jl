var documenterSearchIndex = {"docs":
[{"location":"api/#Introduction","page":"API","title":"Introduction","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"Most functions need an instance of the struct AtmosphericModel as first parameter, which can be created using the following code:","category":"page"},{"location":"api/","page":"API","title":"API","text":"using AtmosphericModels, KiteUtils\n\nset_data_path(\"data\")\nset = load_settings(\"system.yaml\"; relax=true)\nam::AtmosphericModel = AtmosphericModel(set)","category":"page"},{"location":"api/","page":"API","title":"API","text":"This requires that the files system.yaml and settings.yaml exist in the folder data. See also Settings. The parameter relax=true allows loading a yaml file that does not contain all sections needed to run a kite power system simulation. This is useful if you want to use this package for other purposes than simulating kite power systems.","category":"page"},{"location":"api/#Types","page":"API","title":"Types","text":"","category":"section"},{"location":"api/#Exported-types","page":"API","title":"Exported types","text":"","category":"section"},{"location":"api/#AtmosphericModels.ProfileLaw","page":"API","title":"AtmosphericModels.ProfileLaw","text":"@enum ProfileLaw EXP=1 LOG=2 EXPLOG=3\n\nEnumeration to describe the wind profile low that is used.\n\n\n\n\n\n","category":"type"},{"location":"api/#AtmosphericModels.AtmosphericModel","page":"API","title":"AtmosphericModels.AtmosphericModel","text":"mutable struct AtmosphericModel\n\nStruct that is storing the settings and the state of the atmosphere. \n\nFields\n\nset::Settings: The Settings struct\nrho_zero_temp\nwf::Union{WindField, Nothing}: The 3D WindField or nothing\n\n\n\n\n\n","category":"type"},{"location":"api/#AtmosphericModels.AtmosphericModel-Tuple{KiteUtils.Settings}","page":"API","title":"AtmosphericModels.AtmosphericModel","text":"AtmosphericModel(set::Settings; nowindfield::Bool=false)\n\nConstructs an AtmosphericModel using the provided Settings.\n\nArguments\n\nset::Settings: The settings object containing configuration parameters for the atmospheric model.\nnowindfield::Bool=false: Optional keyword argument. If true, the wind field will not be loaded.\n\nReturns\n\nAn instance of AtmosphericModel configured according to the provided settings.\n\n\n\n\n\n","category":"method"},{"location":"api/#Private-types","page":"API","title":"Private types","text":"","category":"section"},{"location":"api/#AtmosphericModels.WindField","page":"API","title":"AtmosphericModels.WindField","text":"struct WindField\n\nStruct that is storing a 3D model of wind vectors of the atmosphere. The Fields x, y and z store the grid coordinates, the fields u, v and w the wind turbulence vectors. \n\nFields\n\nx_max::Float64 = NaN\nx_min::Float64 = NaN\ny_max::Float64 = NaN\ny_min::Float64 = NaN\nz_max::Float64 = NaN\nz_min::Float64 = NaN\nlast_speed::Float64 = 0.0\nvalid::Bool = false\nx::Union{SRL, Array{Float64, 3}}\ny::Union{SRL, Array{Float64, 3}}\nz::Union{SRL, Array{Float64, 3}}\nu::Array{Float64, 3}\nv::Array{Float64, 3}\nw::Array{Float64, 3}\nparam::Vector{Float64} = [0, 0] # [alpha, v_wind_gnd]\n\n\n\n\n\n","category":"type"},{"location":"api/#Functions","page":"API","title":"Functions","text":"","category":"section"},{"location":"api/#Wind-shear-and-air-density-calculation","page":"API","title":"Wind shear and air density calculation","text":"","category":"section"},{"location":"api/#AtmosphericModels.calc_rho","page":"API","title":"AtmosphericModels.calc_rho","text":"calc_rho(s::AM, height)\n\nCalculates the air density at a given height above ground level.\n\nArguments\n\ns::AM: An instance of the AM (Atmospheric Model) struct containing atmospheric parameters.\nheight: The height above ground level (in meters) at which to calculate the air density.\n\nReturns\n\nThe air density at the specified height (in kg/m³).\n\nNotes\n\nThe calculation assumes an exponential decrease of air density with altitude.\ns.rho_zero_temp is the reference air density at ground level.\ns.set.height_gnd is the ground height offset.\nThe scale height used is 8550.0 meters.\n\n\n\n\n\n","category":"function"},{"location":"api/#AtmosphericModels.calc_wind_factor","page":"API","title":"AtmosphericModels.calc_wind_factor","text":"calc_wind_factor(am::AM, height; profile_law::Int64=am.set.profile_law)\n\nCalculates the wind factor at a given height using the specified wind profile law.\n\nArguments\n\nam::AM: An instance of the AM type containing atmospheric model parameters.\nheight: The height (in meters) at which to calculate the wind factor.\nprofile_law::Int64: (Optional) The wind profile law to use for the calculation.  Defaults to am.set.profile_law.\n\nReturns\n\nThe wind factor at the specified height as determined by the chosen profile law.\n\n\n\n\n\n","category":"function"},{"location":"api/#Wind-turbulence-calculation","page":"API","title":"Wind turbulence calculation","text":"","category":"section"},{"location":"api/#AtmosphericModels.get_wind","page":"API","title":"AtmosphericModels.get_wind","text":"get_wind(am::AtmosphericModel, x, y, z, t; interpolate=false)\n\nReturns the wind vector at the specified position (x, y, z) and time t using the given  AtmosphericModel (am).\n\nArguments\n\nam::AtmosphericModel: The atmospheric model providing environmental parameters.\nx, y, z: Coordinates specifying the location where the wind is to be evaluated. [m]\nt: Time at which the wind is to be evaluated. [s]\ninterpolate (optional, default = false): If true, interpolate wind values between grid points;                                               otherwise, use nearest or direct values.\n\nReturns\n\nA wind vector representing the wind at the specified location and time.\n\n\n\n\n\n","category":"function"},{"location":"api/#AtmosphericModels.rel_turbo","page":"API","title":"AtmosphericModels.rel_turbo","text":"rel_turbo(am::AtmosphericModel, v_wind = am.set.v_wind)\n\nFind the closest relative turbulence value for a given ground wind speed.\n\nArguments\n\nam::AtmosphericModel: The atmospheric model instance containing relevant parameters.\nv_wind: (Optional) The wind velocity to use for the calculation. Defaults to am.set.v_wind.\n\nReturns\n\nThe computed relative turbulence value.\n\n\n\n\n\n","category":"function"},{"location":"api/#AtmosphericModels.new_windfield","page":"API","title":"AtmosphericModels.new_windfield","text":"new_windfield(am::AtmosphericModel, v_wind_gnd; prn=true)\n\nCreate a new wind field file using the given, scalar ground wind velocity v_wind_gnd.\n\nParameters\n\nam::AtmosphericModel: The atmospheric model for which the wind field is created.\nv_wind_gnd: A scalar representing the wind velocity at ground level.\nprn: Optional boolean flag to control printing of progress messages (default is true).\n\nReturns\n\nnothing\n\n\n\n\n\n","category":"function"},{"location":"api/#AtmosphericModels.new_windfields","page":"API","title":"AtmosphericModels.new_windfields","text":"new_windfields(am::AtmosphericModel; prn=true)\n\nCreate and initialize new wind fields for all ground wind speeds, defined in am.set.v_wind_gnds and save them for the given AtmosphericModel instance am.\n\nArguments\n\nam::AtmosphericModel: The atmospheric model for which wind fields are to be generated.\nprn: Optional boolean flag to control printing of progress messages (default is true).\n\nReturns\n\nnothing\n\n\n\n\n\n","category":"function"},{"location":"wind_field/#Wind-Fields","page":"3D Wind Fields","title":"Wind Fields","text":"","category":"section"},{"location":"wind_field/#Wind-shear,-scenario-Maasvlakte,-NL","page":"3D Wind Fields","title":"Wind shear, scenario Maasvlakte, NL","text":"","category":"section"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"Maasvlakte is a location close to Rotterdam, The Netherlands, very close to the sea (near-shore).","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"To determine the wind speed v_mathrmw at the height of the kite and at the height of each tether segment, the power law and the log law are used. Input parameters are the ground wind speed v_mathrmwref and the current height z of the kite or tether segment. The ground wind speed used in this paper was measured at z_mathrmref = 60m. The power law establishes the relationship between v_mathrmw and v_mathrmwref as","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"v_mathrmw = v_mathrmwrefleft(fraczz_mathrmrefright)^alpha","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"with the exponent alpha as fitting parameter. The logarithmic law can be written in the following form","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"v_mathrmwlog = v_mathrmwrefleft( fracmathrmlog(zz_0)mathrmlog(z_mathrmrefz_0)right)","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"where z_mathrmref is the reference height and z_0 is the roughness length. For the paper Fechner (2015) not only the ground wind speed v_mathrmwref is measured, but once per flight additionally the wind speed at two more heights, z_1 and z_2. Then, a wind profile is fitted to these three wind speeds. To make a fit with three (speed, height) pairs possible, Eqs. (2) and (1) are combined in the following way","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"v_mathrmw = v_mathrmwlog + K (v_mathrmwlog - v_mathrmwexp)","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"The fit is done by varying the surface roughness z_0 and K until v_mathrmw according to Eq. (3) matches the measured wind speed at all three heights. The exponent alpha is chosen according to","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"alpha = fracmathrmlog (v_mathrmwexp(z_1))  v_mathrmwrefmathrmlog(z) - mathrmlog(z_mathrm ref)","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"which results in v_mathrmwexp(z_1) = v_mathrmwlog(z_1).","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"The following result was achieved:","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"Parameter Value\nK 1.0\nalpha 0.08163\nz_0 0.0002","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"To use this atmospheric model, execute:","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"set_data_path(\"data\")\nset = load_settings(\"system_nearshore.yaml\"; relax=true)\nam::AtmosphericModel = AtmosphericModel(set)","category":"page"},{"location":"wind_field/#Wind-shear,-scenario-Cabauw,-NL","page":"3D Wind Fields","title":"Wind shear, scenario Cabauw, NL","text":"","category":"section"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"Wind data from Royal Netherlands Meteorological Institute (KNMI 2011) at the inland location Cabauw, The Netherlands was used and the wind profile fitted, using the power law according to the following equation:","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"v_mathrmw = v_mathrmwrefleft(fraczz_mathrmrefright)^mathrmalpha","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"where z is the height and alpha the power coefficient. ","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"A coefficient alpha = 0.234 was obtained, which is significantly larger than for the location Maasvlakte. This is to be expected because Cabauw is a lot further away from the shore than Maasvlakte.","category":"page"},{"location":"wind_field/#Wind-turbulence,-scenario-Cabauw","page":"3D Wind Fields","title":"Wind turbulence, scenario Cabauw","text":"","category":"section"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"A one year measurement time series from the wind measurement tower in Cabauw was used to calibrate the wind speed, wind shear and wind turbulence of this scenario.","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"The relative turbulence intensity I, the ratio of the standard deviation of the wind speed within 10 minute intervals and the 10 minute wind speed average ws calculated, based on the Cabauw data set from Royal Netherlands Meteorological Institute KNMI (2011). Three scenarios are chosen for the simulation: The average ground wind speed of 3.483 m/s, the wind speed for nominal power of 5.324 m/s and the maximal wind speed for operation without the need to depower the kite of 8.163 m/s.","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"v_wg I_99 I_197 Description\n3.483 m/s 8.5% 6.3% Average wind speed\n5.324 m/s 9.7% 7.2% Nominal wind speed\n8.163 m/s 9.8% 7.9% High wind speed","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"The reference height for the ground wind speed is 6m. The reason for choosing 6m instead of the standard height of 10m is that during the flight tests only a 6m mast was available.","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"A correction factor was used to adapt the turbulence from the IEC model to the measured values. In settings.yaml, this line defines the correction factors: rel_turbs:   [0.342, 0.465, 0.583].","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"As you see, in this scenario the turbulence increases with the average wind speed and decreases with the height.","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"The turbulence is modelled in three dimensions, using the Mann model as described by Mann (1994) and Mann (1998). The resulting homogeneous velocity field is obtained by a 3D FFT (Fast Fourier Transformation) of the spectral tensor. Randomization is done by a white noise vector to give the wave numbers a random phase and amplitude. A wind field of 4050 x 100 x 500 points with 2 m resolution is pre-calculated. To obtain the 3D wind speed vector at any given position a 3rd order spline interpolation is used. To take the time dependency of the wind into account, the product of the simulation time and the average wind speed at the height of the kite is added to the x-coordinate before the wind vector lookup. The turbulent component of the wind field is periodic in all directions, because it is generated using reverse FFT. The size of the wind field is chosen such that the wind speed sequence repeats every 13.5 minutes at a wind speed of 10 m/s.","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"To use this atmospheric model, execute:","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"set_data_path(\"data\")\nset = load_settings(\"system.yaml\"; relax=true)\nam::AtmosphericModel = AtmosphericModel(set)","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"If the file windfield_4050_100_500_70_1.0_5.3.npz, which contains the required wind field does not exist it will be created automatically. This might take 30s, but is required only once.","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"Known limitation: Only three of the parameters that determine the wind field are encoded in the filename. Therefore, if you change one of the other parameters the wrong file might be loaded. Workaround: Delete all *.npz files in the data folder before changing another parameter than grid, use_turbulence or v_wind_gnds.","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"References","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"Fechner 2015 Fechner, U., Vlugt, R. V. D., Schreuder, E. & Schmehl, R. (2015). Dynamic Model of a Pumping Kite Power System. Renewable Energy, 83, 705–716. doi:10.1016/j.renene.2015.04.028","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"KNMI 2011 KNMI, The Royal Netherlands Meteorological Institute. (2011). Cesar Tower Meteoro logical Profiles (Wind Data from Cabauw, The Netherlands), validated. Retrieved from www.cesar-database.nl  ","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"Mann 1994 Mann, J. (1994, April). The spatial structure of neutral atmospheric surface-layer turbulence. Journal of Fluid Mechanics, 273, 141. doi:10.1017/S0022112094001886  ","category":"page"},{"location":"wind_field/","page":"3D Wind Fields","title":"3D Wind Fields","text":"Mann 1998 Mann, J. (1998, October). Wind field simulation. Probabilistic Engineering Mechanics, 13(4), 269–282. doi:10.1016/S0266-8920(97)00036-2","category":"page"},{"location":"settings/#Settings","page":"Settings","title":"Settings","text":"","category":"section"},{"location":"settings/","page":"Settings","title":"Settings","text":"The parameters af the atmospheric model can be configured in the section environment of the settings.yaml file in the data folder.","category":"page"},{"location":"settings/","page":"Settings","title":"Settings","text":"The file system.yaml specifies which yaml files are used to configure the current project.","category":"page"},{"location":"settings/#Example-for-system.yaml","page":"Settings","title":"Example for system.yaml","text":"","category":"section"},{"location":"settings/","page":"Settings","title":"Settings","text":"system:\n    project: \"settings.yaml\"  # simulator settings","category":"page"},{"location":"settings/","page":"Settings","title":"Settings","text":"Often additional yaml files, for example for the controller settings are used.","category":"page"},{"location":"settings/#Example-for-settings.yaml,-scenario-Cabauw,-NL","page":"Settings","title":"Example for settings.yaml, scenario Cabauw, NL","text":"","category":"section"},{"location":"settings/","page":"Settings","title":"Settings","text":"environment:\n    v_wind: 5.324            # wind speed at reference height          [m/s]\n    upwind_dir: -90.0        # upwind direction                        [deg]\n    temp_ref: 15.0           # temperature at reference height         [°C]\n    height_gnd: 0.0          # height of groundstation above see level [m]\n    h_ref:  6.0              # reference height for the wind speed     [m]\n\n    rho_0:  1.225            # air density at zero height and 15 °C    [kg/m³]\n    alpha:  0.234            # exponent of the wind profile law\n    z0:     0.0002           # surface roughness                       [m]\n    profile_law: 1           # 1=EXP, 2=LOG, 3=EXPLOG\n    # the following parameters are for calculating the turbulent wind field using the Mann model\n    use_turbulence: 1.0      # turbulence intensity relative to Cabauw, NL\n    v_wind_gnds: [3.483, 5.324, 8.163] # wind speeds at ref height for calculating the turbulent wind field [m/s]\n    avg_height: 200.0        # average height during reel out          [m]\n    rel_turbs:   [0.342, 0.465, 0.583] # relative turbulence at the v_wind_gnds\n    i_ref: 0.14              # is the expected value of the turbulence intensity at 15 m/s.\n    v_ref: 42.9              # five times the average wind speed in m/s at hub height over the full year    [m/s]\n                             # Cabauw: 8.5863 m/s * 5.0 = 42.9 m/s\n    grid: [4050, 100, 500, 70] # grid size nx, ny, nz and minimal height z_min                              [m]\n    height_step: 2.0         # use a grid with 2m resolution in z direction                                 [m]\n    grid_step:   2.0         # grid resolution in x and y direction    [m]","category":"page"},{"location":"settings/#Remarks","page":"Settings","title":"Remarks","text":"","category":"section"},{"location":"settings/","page":"Settings","title":"Settings","text":"If the parameter use_turbulence is zero, no windfield is loaded.","category":"page"},{"location":"#AtmosphericModels","page":"Home","title":"AtmosphericModels","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This package provides functions for modelling the influence of the atmosphere on wind energy systems. It models the air density, the vertical wind profile and the wind turbulence. Further functions to import measured data are planned. ","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Install Julia 1.10 or later, if you haven't already. ","category":"page"},{"location":"","page":"Home","title":"Home","text":"First, create a new Julia project:","category":"page"},{"location":"","page":"Home","title":"Home","text":"mkdir test\ncd test\njulia --project=.","category":"page"},{"location":"","page":"Home","title":"Home","text":"You can now add AtmosphericModels from  Julia's package manager, by typing ","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> using Pkg\njulia> pkg\"add AtmosphericModels\"","category":"page"},{"location":"","page":"Home","title":"Home","text":"at the Julia prompt.","category":"page"},{"location":"#Running-the-tests","page":"Home","title":"Running the tests","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Launch Julia using this project and run the tests:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia --project\njulia> using Pkg\njulia> Pkg.test(\"AtmosphericModels\")","category":"page"},{"location":"#Running-the-examples","page":"Home","title":"Running the examples","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"If you check out the project using git, you can more easily run the examples:","category":"page"},{"location":"","page":"Home","title":"Home","text":"git clone https://github.com/OpenSourceAWE/AtmosphericModels.jl\ncd AtmosphericModels.jl","category":"page"},{"location":"","page":"Home","title":"Home","text":"Launch Julia using this project and run the example menu:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia --project\njulia> include(\"examples/menu.jl\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"The first time will take some time, because the graphic libraries will get installed, the second time it is fast.","category":"page"},{"location":"#Usage","page":"Home","title":"Usage","text":"","category":"section"},{"location":"#Calculate-the-height-dependant-wind-speed","page":"Home","title":"Calculate the height dependant wind speed","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Make sure that the folder data exist and contains the files system_nearshore.yaml and settings_nearshore.yaml. These configuration files contain the wind profile parameters, fitted to the near shore location Maasvlakte, NL on a specific day.","category":"page"},{"location":"","page":"Home","title":"Home","text":"using AtmosphericModels, KiteUtils\nset_data_path(\"data\")\nset = load_settings(\"system.yaml\"; relax=true)\nam = AtmosphericModel(set)\n\nheight = 100.0\nwf = calc_wind_factor(am, height)","category":"page"},{"location":"","page":"Home","title":"Home","text":"The result is the factor with which the ground wind speed needs to be multiplied to get the wind speed at the given height.","category":"page"},{"location":"#Using-the-turbulent-wind-field","page":"Home","title":"Using the turbulent wind field","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"You can get a wind vector as function of x,y,z and time using the following code:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using AtmosphericModels, KiteUtils\n\nset_data_path(\"data\")\nset = load_settings(\"system.yaml\"; relax=true)\nam::AtmosphericModel = AtmosphericModel(set)\n\n@info \"Ground wind speed: $(am.set.v_wind) m/s\"\n\nwf::WindField = WindField(am, am.set.v_wind)\nx, y, z = 20.0, 0.0, 200.0\nt = 0.0\nvx, vy, vz = get_wind(wf, am, x, y, z, t)\n@time get_wind(am, x, y, z, t)\n@info \"Wind at x=$(x), y=$(y), z=$(z), t=$(t): v_x=$(vx), v_y=$(vy), v_z=$(vz)\"\n@info \"Wind speed: $(sqrt(vx^2 + vy^2 + vz^2)) m/s\"","category":"page"},{"location":"","page":"Home","title":"Home","text":"It is suggested to check out the code using git before executing this example, because it requires that a data directory with the correct files system.yaml and settings.yaml exists. See below how to do that.","category":"page"},{"location":"#Plot-a-wind-profile","page":"Home","title":"Plot a wind profile","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using AtmosphericModels, KiteUtils, ControlPlots\nam = AtmosphericModel(se())\n\nheights = 6:1000\nwf = [calc_wind_factor(am, height, Int(EXPLOG)) for height in heights]\n\nplot(heights, wf, xlabel=\"height [m]\", ylabel=\"wind factor\", fig=\"Nearshore\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: Wind profile nearshore)","category":"page"},{"location":"","page":"Home","title":"Home","text":"using AtmosphericModels, ControlPlots, KiteUtils\nam = AtmosphericModel(se())\nAtmosphericModels.se().alpha = 0.234  # set the exponent of the power law\n\nheights = 6:200\nwf = [calc_wind_factor(am, height, Int(EXP)) for height in heights]\n\nplot(heights, wf, xlabel=\"height [m]\", ylabel=\"wind factor\", fig=\"Onshore\")","category":"page"},{"location":"#Air-density","page":"Home","title":"Air density","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using AtmosphericModels, BenchmarkTools, KiteUtils\nam = AtmosphericModel(se())\n@benchmark calc_rho(am, height) setup=(height=Float64((6.0+rand()*500.0)))","category":"page"},{"location":"","page":"Home","title":"Home","text":"This gives 4.85 ns as result. Plot the air density:","category":"page"},{"location":"","page":"Home","title":"Home","text":"heights = 6:1000\nrhos = [calc_rho(am, height) for height in heights]\nplot(heights, rhos, legend=false, xlabel=\"height [m]\", ylabel=\"air density [kg/m³]\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"(Image: Airdensity)","category":"page"},{"location":"#Further-reading","page":"Home","title":"Further reading","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"These models are described in detail in Dynamic Model of a Pumping Kite Power System. You can find a summary in the section Wind Fields.","category":"page"},{"location":"#Licence","page":"Home","title":"Licence","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This project is licensed under the MIT License. Please see the below WAIVER in association with the license.","category":"page"},{"location":"#WAIVER","page":"Home","title":"WAIVER","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Technische Universiteit Delft hereby disclaims all copyright interest in the package “AtmosphericModels.jl” (models for airborne wind energy systems) written by the Author(s).","category":"page"},{"location":"","page":"Home","title":"Home","text":"Prof.dr. H.G.C. (Henri) Werij, Dean of Aerospace Engineering","category":"page"},{"location":"#See-also","page":"Home","title":"See also","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Research Fechner\nThe application KiteViewer\nthe package KiteUtils\nthe packages KiteModels and WinchModels and KitePodModels\nthe packages KiteControllers and KiteViewers","category":"page"}]
}
